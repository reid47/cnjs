"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e="-webkit-",r="-moz-",n="-ms-",t="image-set",i={"flex-start":"start","flex-end":"end","space-between":"justify","space-around":"distribute"},o={"horizontal-tb":"lr-tb","vertical-lr":"tb-lr","vertical-rl":"tb-rl"},a={"max-height":1,"max-width":1,width:1,height:1,"min-width":1,"min-height":1},s={"min-content":1,"max-content":1,"fill-available":1,"fit-content":1,"contain-floats":1},l=function(r,n){return[[e+r,n],[r,n]]},f=function(r,n){return[[r,e+n],[r,n]]},c=function(e,n){return[[r+e,n],[e,n]]},u=function(e,r){return[[n+e,r],[e,r]]},p=function(n,t){return[[e+n,t],[r+n,t],[n,t]]},d=function(t,i){return[[e+t,i],[r+t,i],[n+t,i],[t,i]]},b=function(r,t){return[[e+r,t],[n+r,t],[r,t]]},x=function(r,n){return[[e+r.replace("border","box-image"),n],[r,n]]},h=function(r,t){var i="inline-flex"===t?"inline-":"";return[[r,e+i+"box"],[r,n+i+"flexbox"],[r,t]]},g={"align-content":function(e,r){return[[n+"flex-line-pack",i[r]||r],[e,r]]},"align-items":function(r,t){return[[e+"box-align",i[t]||t],[n+"flex-align",i[t]||t],[r,t]]},"align-self":function(e,r){return[[n+"flex-item-align",i[r]||r],"flex-start"!==r&&"flex-end"!==r&&"baseline"!==r&&[n+"grid-row-align",i[r]||r],[e,r]]},appearance:p,cursor:{"zoom-in":f,"zoom-out":f,grab:f,grabbing:f},display:{flex:h,"inline-flex":h},flex:function(r,t){var i=(""+t).split(" "),o="none"===i[0]?0:"auto"===i[0]?1:i[0],a=3===i.length&&"0"===i[2]?t+"px":t;return[[e+"box-"+r,o],[n+r,a],[r,t]]},"flex-basis":function(e,r){return[[n+"flex-preferred-size",r],[e,r]]},"flex-direction":function(r,t){return[[e+"box-orient",t.indexOf("row")>-1?"horizontal":"vertical"],[e+"box-direction",t.indexOf("reverse")>-1?"reverse":"normal"],[n+r,t],[r,t]]},"flex-flow":function(r,t){var i=(t+"").split(" ")[0]||"";return[[e+"box-orient",i.indexOf("row")>-1?"horizontal":"vertical"],[e+"box-direction",i.indexOf("reverse")>-1?"reverse":"normal"],[n+r,t],[r,t]]},"flex-grow":function(r,t){return[[e+"box-flex",t],[n+"flex-positive",t],[r,t]]},"flex-shrink":function(e,r){return[[n+"flex-negative",r],[e,r]]},"justify-content":function(r,t){return["space-around"!==t&&[e+"box-pack",i[t]||t],[n+"flex-pack",i[t]||t],[r,t]]},"tab-size":c,hyphens:b,"flex-wrap":u,"flow-into":b,"flow-from":b,"box-decoration-break":l,"break-before":b,"break-after":b,"break-inside":b,"clip-path":l,"region-fragment":b,"scroll-snap-type":b,"scroll-snap-coordinate":b,"scroll-snap-destination":b,"scroll-snap-points-x":b,"scroll-snap-points-y":b,"font-feature-settings":l,"mask-border-source":x,"mask-border-mode":x,"mask-border-slice":x,"mask-border-width":x,"mask-border-outset":x,"mask-border-repeat":x,"mask-border":x,order:function(r,t){var i=/[0-9]/.test(t)?(+t||0)+1:t;return[[e+"box-ordinal-group",i],[n+"flex-order",t],[r,t]]},"backface-visibility":l,perspective:l,"perspective-origin":l,position:{sticky:f},"text-orientation":l,"backdrop-filter":l,"font-kerning":l,filter:l,"shape-image-threshold":l,"shape-margin":l,"shape-outside":l,"text-size-adjust":d,"user-select":d,"writing-mode":function(r,t){return[[e+r,t],[n+r,o[t]||t],[r,t]]},"&:fullscreen":function(t,i){return[["&:"+e+"full-screen",i],["&:"+r+"full-screen",i],["&:"+n+"fullscreen",i],[t,i]]},"&::placeholder":function(r,t){return[["&::"+e+"input-placeholder",t],["&:"+n+"input-placeholder",t],["&::"+n+"input-placeholder",t],[r,t]]}},m=Object.prototype.hasOwnProperty.bind(g),v={},k=function(n,i){var o=n+i;if(v[o])return v[o];var f=void 0;if(m(n))"function"==typeof g[n]?f=g[n](n,i):"object"==typeof g[n]&&"function"==typeof g[n][i]&&(f=g[n][i](n,i));else if(/^(transform|animation|column|text-emphasis|text-decoration-|mask|wrap-)/.test(n))f=l(n,i);else if(/^cross-fade/.test(i)){var c=(i.match(/\(([\d]+%)/)||[])[1]||"",u=i.replace("cross-fade","-webkit-cross-fade");c?u=u.replace(c+" ",""):c="0.5";var p=u.lastIndexOf(")");p>-1&&(u=u.substring(0,p)+", "+c+")"),f=[[n,u],[n,i]]}else(""+i).indexOf(t)>-1?f=[[n,i.replace(t,e+t)],[n,i]]:a[n]&&s[i]&&(f=[[n,e+i],[n,r+i],[n,i]]);return f=v[o]=f||[[n,i]]},w=function(e){for(var r=[],n=0;n<e.length;n++)"{"===e[n]&&r.push("}");return r.join("")},y=function(e,r,n){for(var t=[],i=0;i<n.length;i++)for(var o=k(n[i][0],n[i][1]),a=0;a<o.length;a++)t.push(o[a][0]+":"+o[a][1]+";");var s=r?w(r):"";return(r||e)+"{"+t.join("")+"}"+s},j=function(e,r,n){var t=n.indexOf("&")>-1,i="@"===n[0];if(t)return r||i?r+n.replace(/^&/,"").replace(/&/g,e):n.replace(/&/g,e);if(i){if(!r)return n+"{"+e;if("@"===r[0])return r.substr(0,r.length-e.length-1)+"{"+n+"{"+e}else if(!r)return e+" "+n;return(r?r+" ":"")+n},O=function(e,r){for(var n=[],t={"":[]},i=r.split(""),o=i.length,a="",s=!0,l=[],f=!1,c=!1,u=!1,p=[],d=[],b=!1,x=!1,h=void 0,g=void 0,m=0;m<o;m++)if(g=h,h=i[m],!x||"\n"===h)switch(h){case"/":"/"===i[m+1]&&(x=!0);break;case"\n":c||(s=!0,x=!1);break;case":":b?p.push(h):f&&(f=!1,u=!0);break;case";":c?(t[a].push([p.join(""),d.join("")]),d=[],p=[],c=!1):f&&"@"===p[0]&&(n.push(p.join("")+";"),f=!1,p=[]);break;case" ":case"\t":f&&" "!==g?p.push(" "):c&&" "!==g&&d.push(" ");break;case"\r":break;case"{":l.push(a),t[a=p.join("").trim().split(/,[\s]*/).map(function(r){return j(e,a,r)}).join(",")]=t[a]||[],p=[],b=!1,f=!1;break;case"}":a=l.pop();break;case"&":case"@":b=!0;default:s&&(f=!0,s=!1),u&&(u=!1,c=!0),c?d.push(h):f&&p.push(h)}for(var v=Object.keys(t),k=0;k<v.length;k++)t[v[k]].length&&n.push(y(e,v[k],t[v[k]]));return n};exports.preprocess=O;
